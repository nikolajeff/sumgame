import org.jgrapht.Graph;
import org.jgrapht.graph.DefaultEdge;
import org.jgrapht.graph.SimpleDirectedGraph;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.File;
import java.util.ArrayList;

public class AI {

    private Graph<String, DefaultEdge> gameTree;

    public AI(){
		gameTree = generateTree(4, 20);
    }

    private SimpleDirectedGraph<String, DefaultEdge> generateTree(int width, int depth){
		SimpleDirectedGraph<String, DefaultEdge> gameTree = new SimpleDirectedGraph<String, DefaultEdge>(DefaultEdge.class);
		gameTree.addVertex("0000"); //start of the game
		
		// Initialize previous and next vertex array
		ArrayList<String> previousV = new ArrayList<String>();
		previousV.add("0000");
		ArrayList<String> nextV = new ArrayList<String>();
		
		for(int lvl = 1; lvl <= depth; lvl++){ // From 1'st to the 20'th depth level
			for(String vert : previousV){ // For each of the previously created vertexes
				int currentNumber = getNumberFromV(vert);
				int maxForCurrent = currentNumber + width;
				if (maxForCurrent > depth) maxForCurrent = depth;
				// Create new vertexes that can be obtained by adding numbers from 1 to 4
				for(int i = currentNumber+1; i <= maxForCurrent; i++){
					String newVert = getVName(lvl, i);
					if(gameTree.addVertex(newVert)){
						nextV.add(newVert);
						System.out.print(newVert + " ");
					}
					gameTree.addEdge(vert, newVert);
				}
			}
			// Reinitialize previousV for next level actions
			previousV.removeAll();
			previousV.addAll(nextV);
			nextV.removeAll();
			System.out.println();
		}
		
        return gameTree;
    }
	
	private int getNumberFromV(String vertex){
		return Integer.parseInt(vertex.substring(2,4));
	}
	
	private String getVName(int iLevel, int iNumber){
		String vertName = "";
		String level = Integer.toString(iLevel);
		String number = Integer.toString(iNumber);
		if(level.length() == 1) vertName += '0' + level;
		else vertName += level;
		if(number.length() == 1) vertName += '0' + number;
		else vertName += number;
		return vertName;
	}

}